<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Usage &mdash; hotdog 0.0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Release History" href="release-history.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> hotdog
          </a>
              <div class="version">
                0.0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-does-it-do">What does it do?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-use-it">How to use it?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-use-it-after-the-collection">How to use it after the collection?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release-history.html">Release History</a></li>
<li class="toctree-l1"><a class="reference internal" href="min_versions.html">Minimum Version of Python and NumPy</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">hotdog</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<section id="what-does-it-do">
<h2>What does it do?<a class="headerlink" href="#what-does-it-do" title="Permalink to this headline">¶</a></h2>
<p>The server will process the data files in a stream. The data files are the two column text files of XRD pattern.
The output files are csv files. The columns are the volume of the cell and the temperature at the point of each
measurement. The time and other information like horizontal and vertical positions will also be recored if
specified.</p>
<p>The algorithm is to fit the data using TOPAS and get the volume <cite>Vobs</cite> of the cell. Then, correct the volume
using <cite>Vreal = alpha * Vobs</cite>. Then, plug it into the equation <cite>Vreal = V0 * polynomial(T - T0)</cite> to calculate the
temperature <cite>T</cite>.</p>
<p>Here, the <cite>V0</cite> can be directly specified or it can be calculated according to the <cite>Vreal</cite> from a room temperature
scan. The <cite>alpha</cite> is calculated from the room temperature scan and a data point at the position where the
calibration is done.</p>
</section>
<section id="how-to-use-it">
<h2>How to use it?<a class="headerlink" href="#how-to-use-it" title="Permalink to this headline">¶</a></h2>
<p>Prepare a configuration file in current working directory. One example file can be found <a class="reference external" href="https://github.com/st3107/hotdog/blob/main/hotdog/data/example_config.yaml">here</a>.</p>
<p>It is a yaml file. If you are not familiar with yaml file. Please read this <a class="reference external" href="https://yaml.org/">website</a>
. The meaning of the keys are described in the comments in the file.</p>
<p>Prepare the INP file for the TOPAS. Here is an <a class="reference external" href="https://github.com/st3107/hotdog/blob/main/hotdog/data/Al2O3.inp">example</a>. It must include three words “xy_file”, “res_file”,
“fit_file”. They will be replaced by the file path for each run.</p>
<p>Open three bash terminals and conda activate the environment in each of them (here, it is named “hotdog”.):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">hotdog</span>
</pre></div>
</div>
<p>In the first terminal, start the data processing server (here, we use “example_config.yaml” as the config file.):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hotdog</span> <span class="n">example_config</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<p>In the second terminal, start the proxy server:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hotdogproxy</span> <span class="n">example_config</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<p>In the third terminal, start the data visualization server:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hotdogvis</span> <span class="n">example_config</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<p>The data processing and saving are done by the first server.The second and the third servers are for the
visualization.</p>
<p>If you didn’t see any error messages, the servers have been successfully started.</p>
</section>
<section id="how-to-use-it-after-the-collection">
<h2>How to use it after the collection?<a class="headerlink" href="#how-to-use-it-after-the-collection" title="Permalink to this headline">¶</a></h2>
<p>If we already have a folder with all the data files inside, we cann run the <cite>hotdogbatch</cite> to process them. It requires
the same configuration file as the hotdog.</p>
<p>Open three bash terminals and conda activate the environment in each of them (here, it is named “hotdog”.):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">hotdog</span>
</pre></div>
</div>
<p>If you would like the streaming visualization during the data processing, start the proxy:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hotdogproxy</span> <span class="n">example_config</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<p>Then, start the visualization server:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hotdogvis</span> <span class="n">example_config</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<p>Finally, run the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hotdogbatch</span> <span class="n">example_config</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="release-history.html" class="btn btn-neutral float-right" title="Release History" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Songsheng Tao.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>